## PRC WINDOW ##

import maya.cmds as cmds
def HQLQtoggle():
    if cmds.checkBox(enableHQLQ, q=True, v=True) == True:        # If ticked
        cmds.radioButtonGrp(HQLQOption, edit=True, enable=True)  # Enable
    else:                                                        # If un-ticked
        cmds.radioButtonGrp(HQLQOption, edit=True, enable=False) # Disable

PRCWindow = cmds.window(mxb= False, mnb=False, rtf=True, title="Pre-Render Checks")

cmds.columnLayout(cw=400)
cmds.text(l="\nSelect the checks you'd like to perform before\nsubmitting this scene to the Render Farm:\n")

cmds.rowColumnLayout(numberOfColumns = 1, columnWidth=[(1, 300)], rowSpacing=[(1,10)])
cmds.checkBox(label="Add Maya Filepath Metadata", v=1)
cmds.checkBox(label="Hide Render Assistants", v=1)
cmds.checkBox(label="Ensure Render Camera Selected", v=1)
cmds.checkBox(label="Enable Essential Render Settings", v=1)
cmds.checkBox(label="Missing Texture and File Check", v=1)
enableHQLQ = cmds.checkBox(label="Enable Recommended HQ/LQ Settings...", onCommand= "HQLQtoggle()", offCommand= "HQLQtoggle()")

cmds.columnLayout(cw=100)
HQLQOption = cmds.radioButtonGrp(nrb=2, label1="LQ", label2="HQ", enable=False)

cmds.rowColumnLayout(numberOfColumns = 3, columnWidth = [(1,90),(2,90),(3,90)], cs=[(1,0),(2,10),(3,10)])
cmds.button(label="< Cancel", w=80)
cmds.button(label="Skip", w=80)
cmds.button(label="Submit >", w=80)

cmds.showWindow(PRCWindow)


--------------------
## MISSING FILE CHECK ##

import maya.cmds as cmds
import os

def texStatus():
    
    texDirs = []
    fileError = []
    fileList = cmds.ls(type = "file")
    
    if len(fileList) == 0:
        print "FILE-CHECK-ERROR: No files found linked to this scene!",
        return 0
    else:
        print "Details of the files linked to this scene:\n",
        for f in fileList:
            fPath = cmds.getAttr(f + ".fileTextureName")
            dirPath = os.path.split(fPath)[0]   
            print "- " + fPath
            
            if not os.path.exists(fPath):
                fileError.append(f)
                
    if not len(fileError) == 0:
        print "\nSome of your files have errors!"
        for n in fileError:
            print "- " + n
            cmds.select(n, add = True)
                
texStatus()


-------------------------------
## RENDER CAMERA CHECK ##

def checkRenderCamera():
    renderableList=[]
    for x in cmds.ls(typ='camera',l=True):
        if cmds.getAttr(x+'.renderable'):
            renderableList.append(x)
    ll=len(renderableList)
    if ll==0:
        print "PRC-RenderCamera: There is no renderable camera!\n",
        return 0
    if ll>1:
        print "PRC-RenderCamera: More than one render camera detected!\n",
        cmds.confirmDialog(m="There is more than one camera selected to render!\nIf this is unexpected, cancel the render and try again.", b="OK", icn="information", t="PRC Alert")
        return 1
    else: # if ll==1
        camSelect = []
        camSelect = renderableList[0].split("|")
        defaultCamList = ["persp", "top", "front", "side", "back", "right", "left", "bottom"]
        
        for cam in defaultCamList:
            if cam == camSelect[1]:
                cmds.confirmDialog(m="Render Camera: " + camSelect[1] + "\nThis looks like one of the default cameras.\nIf this is unexpected, cancel the render and try again.", b="OK", icn="information", ma="center", t="PRC Alert")
                print "PRC-RenderCamera: Looks like you've got a default camera selected to render:", camSelect[1], "\n",
                return 1
        print "PRC-RenderCamera: Looks good, your selected camera is:", camSelect[1], "\n",
        return 1
        
checkRenderCamera()

------------------------------
### HIDE ASSISTANTS

def hideAssistants():
    
    assistants = cmds.ls("::Assistants", r=True)
    try:
        if assistants:
            cmds.select(assistants)
            cmds.hide(assistants)
            print "PRC-HideAssistants: Finished hiding the Assistants.\n",
            return 1
        else:
            print "PRC-HideAssistants: No Assistants Found!\n",
            return 1
    except:
        print "PRC-HideAssistants: Error!\n",
        return 0 
        
hideAssistants()
